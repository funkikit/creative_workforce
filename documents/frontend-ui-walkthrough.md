# Creative Workforce PoC Console 操作ガイド

> ※ フロントエンド UI の主要ラベル・メッセージ、および LLM へのデフォルト指示は日本語化済みです。

## 1. 画面上の主なアクション（日本語解説）

| UI要素 | 役割 | 実際の動作 |
| --- | --- | --- |
| **「プロジェクトを作成」フォーム** | 新しい企画プロジェクトを登録するところ | `名称`、`説明`、`予定話数` を入力し、`作成` を押すと `/api/projects` に POST される。登録が成功すると一覧に追加。 |
| **プロジェクト一覧** | 既存プロジェクトの一覧 | 任意のプロジェクトをクリックすると、その後の成果物一覧や進捗表示の対象が切り替わる。 |
| **「{テンプレート名}を生成」ボタン** | 成果物テンプレートの自動生成を依頼 | 選択中プロジェクトに対して、生成指示と必要ならエピソード番号を指定し、LLM またはダミーワーカーに生成リクエストを送る。`/api/projects/{id}/artifacts/{template}/generate` を呼び出す。 |
| **エピソード番号（任意）フィールド** | エピソードを指定 | エピソード別テンプレート（例: `episode_script`）に適用する話数を入力。空欄にすると未指定として扱われる。 |
| **生成指示テキストエリア** | 生成の指示 | LLM やテンプレートに渡す創作指示。内容に応じて生成されるテキスト/画像が変わる。 |
| **「キーフレーム生成タスクが保留中です」バナー** | キーフレーム生成タスクがキュー待ち状態であることを示す | `キーフレーム画像を生成` 後に 202 応答となった場合に表示。バックエンド側で即時に画像を作らず、キュー投入が完了した状態。 |
| **ワーカーを実行 ボタン** | キューに溜まったキーフレーム生成ジョブを即時処理 | `/api/tasks/generate-keyframe` に POST し、キューに入ったタスクをワーカーが処理した想定で成果物を保存。 |
| **成果物テーブルの 表示 ボタン** | 成果物の内容を確認 | `/api/projects/{id}/artifacts/{artifactId}` を取得し、テキストなら「成果物プレビュー」に表示、画像なら Base64→プレビュー画像として表示。 |
| **進捗サマリー セクション** | テンプレートごとの進捗を把握 | グローバルテンプレートと各エピソードの完了/未完了テンプレートをリスト表示。生成していないテンプレートを確認する用途。 |
| **メッセージバナー** | 成功/失敗通知 | 直近の操作結果を表示。例: プロジェクト作成成功、生成失敗など。詳細なエラー文は現状コンソールに出力される。 |

## 2. 想定利用手順（ユースケース例）

1. **プロジェクトの新規登録**
   - 「プロジェクトを作成」フォームに作品名と概要、想定話数を入力し `作成` をクリック。
   - 成功すると「プロジェクト一覧」に表示され、最初のプロジェクトが自動選択される。

2. **プロジェクトを選択**
   - 左側の「プロジェクト一覧」から対象案件をクリックし、成果物一覧・進捗を読み込む。

3. **テキスト成果物を生成**
   - 「成果物」セクションで `生成指示` に創作意図を入力。
   - 例えば総合仕様書なら `作品全体仕様書を生成` ボタンを押す。完了すると成果物一覧へ反映され、プレビューで内容確認ができる。

4. **エピソード固有の成果物を生成**
   - `エピソード番号（任意）` に対象話数を入力し、`エピソード脚本を生成` などエピソード系テンプレートを選択。
   - 指定した話数向けの成果物が保存され、進捗にも反映される。

5. **キーフレーム画像を生成（ワーカー連携）**
   - `キーフレーム画像を生成` を押すとタスクがキューに入る（バナーで通知）。
   - `ワーカーを実行` を押してワーカー処理をシミュレートし、画像成果物を生成。

6. **成果物内容を確認**
   - 「成果物」テーブルから `表示` を押し、テキストなら全文、画像ならプレビューを「成果物プレビュー」で確認。
   - 必要に応じて指示文を調整し再生成。

7. **進捗を把握**
   - 「進捗サマリー」で完了済みテンプレートと未完了テンプレートをチェックし、作業漏れを防ぐ。

8. **次のプロジェクトへ切り替え**
   - 別プロジェクトを選択すると、同じ流れで成果物確認と生成が可能。

---
本コンソールは PoC のため極力機能を絞り、LLM/ワーカー連携の動作確認を優先した設計になっている。上記の流れを参考に、案件作成から成果物生成・進捗管理までを一通り操作し、バックエンドの振る舞いやテンプレートの品質を検証できる。***
